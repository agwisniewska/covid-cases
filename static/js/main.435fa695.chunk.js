(this["webpackJsonpcovid-app"]=this["webpackJsonpcovid-app"]||[]).push([[0],{17:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return s}));var r=n(0),a=n(10),o=n(1),c=n.n(o),i=Object(o.createContext)(void 0),u=Object(o.createContext)(void 0),s=function(e){var t=e.children,n=Object(o.useState)(""),c=Object(a.a)(n,2),s=c[0],d=c[1];return Object(r.jsx)(i.Provider,{value:s,children:Object(r.jsx)(u.Provider,{value:d,children:t})})},d=function(){var e=Object(o.useContext)(i);if(null==e)throw new Error("useSearchState must be used within a SearchProvider");return e},l=function(){var e=c.a.useContext(u);if(null==e)throw new Error("useSearchDispatch must be used within a SearchProvider");return e}},214:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),o=n.n(a),c=n(72),i=n.n(c),u=(n(88),n(79)),s=n(80),d=n(81),l=n(73),b=n(6),j=function(){return Object(r.jsx)(u.a,{children:Object(r.jsx)(s.a,{children:Object(r.jsx)(d.a,{children:Object(r.jsx)(b.a,{children:Object(r.jsx)(b.d,{children:Object(r.jsx)(b.b,{children:Object(r.jsx)(l.CovidCases,{})})})})})})})},f=(n(216),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,218)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))});i.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(j,{})}),document.getElementById("root")),f(console.log)},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(10),a=n(0),o=n(2),c=n(1),i=n(6),u=n(77),s=n.n(u),d=n(17),l=(n(214),function(e){return Object(a.jsx)("div",{className:"input-group",children:Object(a.jsx)("input",Object(o.a)(Object(o.a)({},e),{},{onChange:function(t){e.onChange(t,{newValue:t.target.value,method:"type"})},type:"text",className:"form-control","aria-label":"Country","aria-describedby":"inputGroup-sizing-default"}))})}),b=function(e){var t=e.containerProps,n=e.children;e.query;return n?Object(a.jsx)("ul",Object(o.a)(Object(o.a)({},t),{},{className:"list-group",children:Object(a.jsxs)("li",{className:"list-group-item",children:[" ",n," "]})})):null},j=function(){var e=Object(i.e)().data,t=Object(d.b)(),n=Object(d.c)(),o=Object(c.useState)([]),u=Object(r.a)(o,2),j=u[0],f=u[1],O=Object(c.useState)([]),v=Object(r.a)(O,2),h=v[0],p=v[1],g=Object(c.useState)(""),C=Object(r.a)(g,2),x=C[0],m=C[1];Object(c.useEffect)((function(){var t=null===e||void 0===e?void 0:e.map((function(e){return e.Country}));f(t)}),[e]),Object(c.useEffect)((function(){m(n)}),[n]);var T={placeholder:"Type a country",value:x,onChange:function(e,n){var r=n.newValue;e.preventDefault(),m(r),""===r&&t(r)}};return Object(a.jsx)(s.a,{suggestions:h,onSuggestionsFetchRequested:function(e){var t=e.value;e.reason;p(function(e){var t=e.trim().toLowerCase(),n=t.length;return 0===n?[]:j.filter((function(e){return e.toLowerCase().slice(0,n)===t}))}(t))},getSuggestionValue:function(e){return e},renderSuggestion:function(e){return Object(a.jsx)("div",{children:e})},onSuggestionSelected:function(e,n){n.suggestion;var r=n.suggestionValue;t(r),m(r)},onSuggestionsClearRequested:function(){return p([])},renderInputComponent:l,renderSuggestionsContainer:b,inputProps:T})}},39:function(e,t){},4:function(e,t,n){"use strict";var r=n(49);n.o(r,"Chart")&&n.d(t,"Chart",(function(){return r.Chart})),n.o(r,"DefaultColumnFilter")&&n.d(t,"DefaultColumnFilter",(function(){return r.DefaultColumnFilter})),n.o(r,"MODE")&&n.d(t,"MODE",(function(){return r.MODE})),n.o(r,"ModeButton")&&n.d(t,"ModeButton",(function(){return r.ModeButton})),n.o(r,"Table")&&n.d(t,"Table",(function(){return r.Table})),n.o(r,"TableChartContainer")&&n.d(t,"TableChartContainer",(function(){return r.TableChartContainer}));n(67);var a=n(71);n.d(t,"MODE",(function(){return a.a})),n.d(t,"ModeButton",(function(){return a.b}));var o=n(69);n.d(t,"DefaultColumnFilter",(function(){return o.a})),n.d(t,"Table",(function(){return o.b}));var c=n(68);n.d(t,"TableChartContainer",(function(){return c.a}))},49:function(e,t,n){"use strict";var r=n(50);n.d(t,"Chart",(function(){return r.a}));var a=n(66);n.o(a,"DefaultColumnFilter")&&n.d(t,"DefaultColumnFilter",(function(){return a.DefaultColumnFilter})),n.o(a,"MODE")&&n.d(t,"MODE",(function(){return a.MODE})),n.o(a,"ModeButton")&&n.d(t,"ModeButton",(function(){return a.ModeButton})),n.o(a,"Table")&&n.d(t,"Table",(function(){return a.Table})),n.o(a,"TableChartContainer")&&n.d(t,"TableChartContainer",(function(){return a.TableChartContainer}))},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=(n(1),n(76)),o=function(e){var t=e.data;return Object(r.jsx)(a.Bar,{data:t,width:1e3,height:1e3,options:{maintainAspectRatio:!1,responsive:!0}})}},6:function(e,t,n){"use strict";n.d(t,"h",(function(){return a.c})),n.d(t,"d",(function(){return a.a})),n.d(t,"e",(function(){return C})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return E})),n.d(t,"f",(function(){return P})),n.d(t,"b",(function(){return w}));var r,a=n(17),o=n(0),c=n(25),i=n.n(c),u=n(74),s=n(10),d=n(2),l=n(1),b=n.n(l),j=n(75),f=n.n(j),O={SUMMARY:"".concat("https://api.covid19api.com","/summary")},v=function(e,t){var n,a;switch(t.type){case r.INIT:return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0,isError:!1});case r.SUCCESS:return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,isError:!1,data:null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.Countries,filteredData:null===t||void 0===t||null===(a=t.payload)||void 0===a?void 0:a.Countries});case r.FAILURE:return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,isError:!0})}!function(){throw new Error}()},h=Object(l.createContext)(void 0),p=Object(l.createContext)(void 0),g=function(e){var t=e.children,n=Object(l.useReducer)(v,{isLoading:!1,isError:!1,data:[],filteredData:[]}),a=Object(s.a)(n,2),c=a[0],d=a[1];return Object(l.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d({type:r.INIT}),e.prev=1,e.next=4,f.a.get(O.SUMMARY,{headers:{Authorization:"X-Access-Token5cf9dfd5-3449-485e-b5ae-70a60e997864"}});case 4:t=e.sent,d({type:r.SUCCESS,payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),d({type:r.FAILURE});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.jsx)(h.Provider,{value:c,children:Object(o.jsx)(p.Provider,{value:d,children:t})})},C=function(){var e=Object(l.useContext)(h);if(null==e)throw new Error("useCasesState must be used within a SearchProvider");return e};!function(e){e.INIT="INIT",e.SUCCESS="SUCCESS",e.FAILURE="FAILURE"}(r||(r={}));var x=n(4),m=Object(l.createContext)(void 0),T=Object(l.createContext)(void 0),w=function(e){var t=e.children,n=Object(l.useState)(x.MODE.TABLE),r=Object(s.a)(n,2),a=r[0],c=r[1];return Object(o.jsx)(m.Provider,{value:a,children:Object(o.jsx)(T.Provider,{value:function(){a===x.MODE.TABLE?c(x.MODE.CHART):c(x.MODE.TABLE)},children:t})})},E=function(){var e=Object(l.useContext)(m);if(null==e)throw new Error("useModeState must be used within a ModeProvider");return e},P=function(){var e=b.a.useContext(T);if(null==e)throw new Error("useModeDispatch must be used within a ModeProvider");return e}},66:function(e,t){},67:function(e,t,n){"use strict";n(24)},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),a=n(2),o=n(1),c=n.n(o),i=n(4),u=n(6),s=n(27),d=function(e){var t=e.columns,n=e.chart,d=e.data,l=Object(u.g)(),b=Object(u.f)(),j=c.a.useMemo((function(){return{Header:"",Filter:i.DefaultColumnFilter}}),[]),f=Object(s.useTable)({columns:t,data:d,defaultColumn:j,initialState:{pageIndex:0,pageSize:20}},s.useFilters,s.usePagination),O=f.getTableProps,v=f.getTableBodyProps,h=f.headerGroups,p=f.prepareRow,g=f.footerGroups,C=f.page,x=f.canPreviousPage,m=f.canNextPage,T=f.pageOptions,w=f.nextPage,E=f.previousPage,P=f.state,F=P.pageIndex,S=P.pageSize;Object(o.useEffect)((function(){var e=null===C||void 0===C?void 0:C.map((function(e){return e.original}));n.labels=null===e||void 0===e?void 0:e.map((function(e){return e.Country})),null===e||void 0===e||e.forEach((function(e){null===n||void 0===n||n.datasets[0].data.push(e.NewConfirmed),null===n||void 0===n||n.datasets[1].data.push(e.NewDeaths),null===n||void 0===n||n.datasets[2].data.push(e.NewRecovered)}))}),[C]);var M={canPreviousPage:x,canNextPage:m,pageOptions:T,nextPage:w,previousPage:E,pageIndex:F,pageSize:S,page:C};return Object(r.jsxs)(o.Fragment,{children:[Object(r.jsx)(i.ModeButton,{onClick:b,title:l===i.MODE.TABLE?"Chart view":"Table view"}),l===i.MODE.CHART&&C&&Object(r.jsx)(i.Chart,{data:n}),l===i.MODE.TABLE&&(null===d||void 0===d?void 0:d.length)>0&&Object(r.jsx)(i.Table,Object(a.a)({getTableProps:O,getTableBodyProps:v,headerGroups:h,prepareRow:p,footerGroups:g},M))]})}},69:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return O}));var r,a=n(0),o=n(2),c=n(82),i=n(1);!function(e){e.LEFT="LEFT",e.RIGHT="RIGHT"}(r||(r={}));var u=n(26),s=function(e){var t=e.disabled,n=e.direction,o=e.onClick,c=e.children;return Object(a.jsxs)(u.a,{variant:"link",disabled:t,onClick:o,children:[c||n!==r.LEFT?">":"<",c&&Object(a.jsx)(i.Fragment,{children:c})]})},d=function(e){var t=e.previousPage,n=e.pageOptions,o=e.canPreviousPage,c=e.canNextPage,i=e.pageIndex,u=e.nextPage;return Object(a.jsxs)("div",{className:"d-flex align-items-center justify-content-end",children:[Object(a.jsx)(s,{onClick:t,disabled:!o,direction:r.LEFT}),Object(a.jsxs)("span",{children:["Page",Object(a.jsxs)("strong",{children:[" "," ",i+1," of ",n.length]})]}),Object(a.jsx)(s,{onClick:u,disabled:!c,direction:r.RIGHT})]})},l=n(78),b=function(e){var t=e.getTableProps,n=e.getTableBodyProps,r=e.headerGroups,u=e.prepareRow,s=e.footerGroups,b=e.page,j=Object(c.a)(e,["getTableProps","getTableBodyProps","headerGroups","prepareRow","footerGroups","page"]);return Object(a.jsxs)(i.Fragment,{children:[Object(a.jsxs)(l.a,Object(o.a)(Object(o.a)({striped:!0,bordered:!0,hover:!0},t()),{},{children:[Object(a.jsx)("thead",{className:"thead-light",children:r.map((function(e){return Object(a.jsx)("tr",Object(o.a)(Object(o.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(a.jsxs)("th",Object(o.a)(Object(o.a)({scope:"col"},e.getHeaderProps()),{},{children:[e.render("Header"),e.canFilter&&"Country"===e.Header&&Object(a.jsxs)("div",{children:[" ",e.render("Filter")]})]}))}))}))}))}),Object(a.jsx)("tbody",Object(o.a)(Object(o.a)({},n()),{},{children:b.map((function(e,t){return u(e),Object(a.jsx)("tr",Object(o.a)(Object(o.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(a.jsx)("td",Object(o.a)(Object(o.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))})),Object(a.jsx)("tfoot",{children:s.map((function(e){return Object(a.jsx)("tr",Object(o.a)(Object(o.a)({},e.getFooterGroupProps()),{},{children:e.headers.map((function(e){return Object(a.jsx)("td",Object(o.a)(Object(o.a)({},e.getFooterProps()),{},{children:e.render("Footer")}))}))}))}))})]})),Object(a.jsx)(d,Object(o.a)({},j))]})},j=n(24),f=n(6),O=function(e){var t=e.column.setFilter,n=Object(f.h)();return Object(i.useEffect)((function(){t(n)}),[n]),Object(a.jsx)(j.a,{})}},70:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l}));var r=function(e,t){return e.rows.reduce((function(e,n){return n.values[t]+e}),0)},a=n(0),o=n(1),c=n.n(o),i=n(6),u=n(4),s=function(){var e=Object(i.e)(),t=e.data,n=e.isError,r=e.isLoading,s=c.a.useMemo((function(){return d}),[]),b=c.a.useMemo((function(){return t}),[t]);return Object(a.jsxs)(o.Fragment,{children:[r&&Object(a.jsx)("div",{children:"Loading... "}),n&&Object(a.jsx)("div",{children:" An error occured. Please try again later"}),Object(a.jsx)(u.TableChartContainer,{columns:s,chart:l,data:b})]})},d=[{Header:"Country",accessor:"Country"},{Header:"Deaths",accessor:"NewDeaths",Footer:function(e){var t=c.a.useMemo((function(){return r(e,"NewDeaths")}),[e.filteredRows]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("b",{children:"Total:"})," ",Object(a.jsx)("div",{children:t})]})}},{Header:"Recovered",accessor:"NewRecovered",Footer:function(e){var t=c.a.useMemo((function(){return r(e,"NewRecovered")}),[e.filteredRows]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("b",{children:"Total:"})," ",Object(a.jsx)("div",{children:t})]})}},{Header:"New Cases",accessor:"NewConfirmed",Footer:function(e){var t=c.a.useMemo((function(){return r(e,"NewConfirmed")}),[e.filteredRows]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("b",{children:"Total:"})," ",Object(a.jsx)("div",{children:t})]})}}],l={labels:[],datasets:[{label:"New Cases",data:[],backgroundColor:"#FFFF00"},{label:"New Deaths",data:[],backgroundColor:"#FF0000"},{label:"New Recovered",data:[],backgroundColor:"#74B649"}],options:{responsive:!0,scales:{xAxes:[{ticks:{beginAtZero:!0}}]}}}},71:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return r}));var r,a=n(0),o=(n(1),n(26)),c=function(e){var t=e.title,n=e.onClick;return Object(a.jsx)(o.a,{variant:"info",type:"button",className:"btn btn-info",onClick:n,children:t})};!function(e){e.TABLE="TABLE",e.CHART="CHART"}(r||(r={}))},73:function(e,t,n){"use strict";var r=n(39);n.o(r,"CovidCases")&&n.d(t,"CovidCases",(function(){return r.CovidCases}));var a=n(70);n.d(t,"CovidCases",(function(){return a.a}))}},[[217,1,2]]]);
//# sourceMappingURL=main.435fa695.chunk.js.map