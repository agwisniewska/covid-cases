{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx","components/index.ts","components/chart/index.ts","components/chart/chart.tsx","context/types.ts","context/search-context.tsx","services/urls.tsx","context/cases-context.tsx","services/fetch.ts","context/mode-context.tsx","components/table/index.ts","components/table/table.tsx","components/table/types/index.ts","components/table-chart-container/index.ts","components/table-chart-container/table-chart-container.tsx","components/table-chart-container/columns.ts","components/table/utils/pagination/types.ts","components/table/utils/filters/default-column-filter.tsx","components/table/utils/pagination/pagination.tsx","components/table/utils/pagination/button.tsx","features/covid-cases/utils.ts","features/covid-cases/covid-cases.tsx","features/covid-cases/columns.tsx","features/covid-cases/datasets.ts","components/shared/mode-button/types.ts","components/shared/mode-button/mode-button.tsx","components/search/search.tsx","features/index.ts"],"names":["App","Container","Row","Col","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","console","log","Chart","data","width","height","options","maintainAspectRatio","responsive","STATUS","SearchStateContext","createContext","undefined","SearchDispatchContext","SearchProvider","children","useState","searchPhrase","setSearchPhrase","Provider","value","useSearchState","context","useContext","Error","useSearchDispatch","React","BASE_URL","URLS","dataFetchReducer","state","action","type","INIT","isLoading","isError","SUCCESS","payload","Countries","filteredData","FAILURE","assertUnreachable","CasesStateContext","CasesDispatchContext","CasesProvider","useReducer","dispatch","useEffect","a","url","axios","get","result","fetchCases","useCasesState","ModeStateContext","ModeDispatchContext","ModeProvider","MODE","TABLE","mode","setMode","CHART","useModeState","useModeDispatch","Table","getTableProps","getTableBodyProps","headerGroups","prepareRow","footerGroups","page","rest","striped","bordered","hover","className","map","headerGroup","getHeaderGroupProps","headers","column","scope","getHeaderProps","canFilter","Header","row","i","getRowProps","cells","cell","getCellProps","group","getFooterGroupProps","getFooterProps","PAGINATION_CONFIG","pageIndex","pageSize","TableChartContainer","columns","chart","memoDefaultColumn","useMemo","getFilterColumn","useTable","defaultColumn","initialState","useFilters","usePagination","canPreviousPage","canNextPage","pageOptions","nextPage","previousPage","originals","record","original","labels","covidCase","Country","forEach","datasets","push","paginationProps","onClick","title","length","Filter","DefaultColumnFilter","DIRECTION","setFilter","Pagination","props","disabled","direction","LEFT","RIGHT","PaginationButton","Button","variant","getTotalCount","info","key","rows","reduce","sum","values","CovidCases","memoColumns","memoData","accessor","Footer","total","filteredRows","label","backgroundColor","scales","xAxes","ticks","beginAtZero","ModeButton","renderInputComponent","inputProps","onChange","event","newValue","target","method","aria-label","aria-describedby","renderSuggestionsContainer","containerProps","query","Search","search","countries","setCountries","suggestions","setSuggestions","innerValue","setInnerValue","placeholder","preventDefault","onSuggestionsFetchRequested","reason","inputValue","trim","toLowerCase","inputLength","filter","lang","slice","getSuggestions","getSuggestionValue","suggestion","renderSuggestion","onSuggestionSelected","suggestionValue","onSuggestionsClearRequested"],"mappings":"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","file":"static/js/main.19212cf0.chunk.js","sourcesContent":["import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport {CovidCases} from \"./features\";\n\nimport { CasesProvider, ModeProvider, SearchProvider } from './context';\n\n//  TODO: Refactor handling mulitple contexts\nexport const App = () =>  {\n  return (\n      <Container>\n          <Row>\n            <Col>\n              <CasesProvider>\n                <SearchProvider>\n                  <ModeProvider>\n                  < CovidCases/>\n                  </ModeProvider>\n                </SearchProvider>\n              </CasesProvider>\n            </Col>\n         </Row>\n      </Container>\n  );\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport {App} from './App';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(console.log);\n","export * from './chart';\nexport * from './search';\nexport * from './shared';\nexport * from './table';\nexport * from './table-chart-container';\n","export * from \"./chart\";\nexport * from './types';","import React, { FunctionComponent } from 'react';\nimport {Bar, LinearComponentProps} from 'react-chartjs-2';\n\nexport const Chart: FunctionComponent<any> = ({data}: LinearComponentProps) => (\n      <Bar\n        data={data}\n        width={1000}\n        height={1000}\n        options={{ maintainAspectRatio: false, responsive: true }}\n    />\n);","import { CovidCase } from '../features';\n\nexport enum STATUS {\n  INIT = 'INIT',\n  SUCCESS = 'SUCCESS',\n  FAILURE = 'FAILURE'\n}\n\nexport type Action =\n | { type: STATUS.INIT }\n | { type: STATUS.SUCCESS, payload: CovidPayloadData }\n | { type: STATUS.FAILURE, isError: string };\nexport type Dispatch = (action: Action) => void;\nexport type CasesProviderProps = {children: React.ReactNode};\n\n\nexport interface CovidPayloadData {\n  Countries: CovidCase[],\n}\n\nexport interface State {\n  isLoading: boolean;\n  isError: boolean;\n  data: CovidCase[];\n  filteredData: CovidCase[];\n}\n\n","import React, {createContext, useState, useContext} from 'react';\n\ntype SearchDispatch = (searchPhrase: string) => void\ntype SearchProviderProps = {children: React.ReactNode}\n\nconst SearchStateContext = createContext<string | undefined>(undefined);\nconst SearchDispatchContext = createContext<SearchDispatch | undefined>(undefined);\n\nconst SearchProvider = ({children}: SearchProviderProps) => {\n\n  const [searchPhrase, setSearchPhrase] = useState('');\n\n  return (\n    <SearchStateContext.Provider value={searchPhrase}>\n      <SearchDispatchContext.Provider value={setSearchPhrase}>\n        {children}\n      </SearchDispatchContext.Provider>\n    </SearchStateContext.Provider>\n  )\n}\n\nconst useSearchState = () => {\n  const context = useContext(SearchStateContext)\n  if (context == null) {\n    throw new Error('useSearchState must be used within a SearchProvider')\n  }\n  return context\n}\n\nconst useSearchDispatch = () => {\n  const context = React.useContext(SearchDispatchContext)\n  if (context == null) {\n    throw new Error('useSearchDispatch must be used within a SearchProvider')\n  }\n  return context\n}\n\n\nexport {useSearchState, useSearchDispatch, SearchProvider}","export const BASE_URL = 'https://api.covid19api.com';\n\nexport const URLS = {\n  SUMMARY: `summary`\n}","import React, {createContext, useContext, useReducer, useEffect} from 'react';\nimport {get} from '../services';\nimport {Action, STATUS} from '../context';\nimport {URLS} from '../services';\nimport {State, Dispatch, CasesProviderProps} from '.';\n\nconst assertUnreachable = (): never => {\n  throw new Error();\n}\n\nconst dataFetchReducer = (state: State, action: Action) => {\n  switch (action.type) {\n    case STATUS.INIT:\n      return {\n        ...state,\n        isLoading: true,\n        isError: false\n      };\n    case STATUS.SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n        isError: false,\n        data: action?.payload?.Countries,\n        filteredData: action?.payload?.Countries,\n      };\n    case STATUS.FAILURE:\n      return {\n        ...state,\n        isLoading: false,\n        isError: true,\n      };\n    }\n  assertUnreachable();\n};\n\nconst CasesStateContext = createContext<State | undefined>(undefined);\nconst CasesDispatchContext = createContext<Dispatch | undefined>(undefined);\n\nconst CasesProvider = ({children}: CasesProviderProps) => {\n  //  @ts-ignore\n  const [state, dispatch] = useReducer(dataFetchReducer, {\n    isLoading: false,\n    isError: false,\n    data: [],\n    filteredData: []\n  });\n\n  useEffect(() => {\n    let didCancel = false;\n\n    const fetchCases = async () => {\n      dispatch({ type: STATUS.INIT });\n\n      try {\n\n        const result = await get(URLS.SUMMARY)\n\n        if (!didCancel) {\n          dispatch({ type: STATUS.SUCCESS, payload: result.data });\n        }\n\n      } catch (error) {\n        if (!didCancel) {\n          dispatch({ type: STATUS.FAILURE, isError: error });\n\n        }\n      }\n    };\n    fetchCases();\n\n  }, []);\n\n\n  return (\n    <CasesStateContext.Provider value={state}>\n      <CasesDispatchContext.Provider value={dispatch}>\n        {children}\n      </CasesDispatchContext.Provider>\n    </CasesStateContext.Provider>\n  )\n}\n\nconst useCasesState = () => {\n  const context = useContext(CasesStateContext)\n  if (context == null) {\n    throw new Error('useCasesState must be used within a SearchProvider')\n  }\n  return context\n}\n\nconst useCasesDispatch = () => {\n  const context = useContext(CasesDispatchContext)\n  if (context == null) {\n    throw new Error('useCasesDispatch must be used within a SearchProvider')\n  }\n  return context\n}\n\n\nexport {useCasesDispatch, useCasesState, CasesProvider}","import {BASE_URL} from \"../services\";\nimport axios from 'axios';\n\nconst get = (url: string) => {\n  return axios.get(`${BASE_URL}/${url}`);\n}\n\n// if need for headers etc.\n\nconst headers = {\n  'Authorization': 'X-Access-Token5cf9dfd5-3449-485e-b5ae-70a60e997864'\n}\n\nconst post = (url: string, data: unknown) => {\n  return axios(`${BASE_URL}/${url}`, {\n      method: 'POST',\n      headers,\n      data,\n  });\n}\n\nexport {post, get};","import React, {MouseEvent, createContext, useState, useContext} from 'react';\nimport {MODE} from '../components';\n\nexport type ModeDispatch = (event: MouseEvent<HTMLButtonElement>) => void\nexport type ModeProviderProps = {children: React.ReactNode}\n\nconst ModeStateContext = createContext<MODE | undefined>(undefined);\nconst ModeDispatchContext = createContext<ModeDispatch | undefined>(undefined);\n\nconst ModeProvider = ({children}: ModeProviderProps) => {\n\n  const [mode, setMode] = useState(MODE.TABLE);\n\n  const toggleMode = () => {\n    mode === MODE.TABLE ? setMode(MODE.CHART) : setMode(MODE.TABLE)\n  }\n\n  return (\n    <ModeStateContext.Provider value={mode}>\n      <ModeDispatchContext.Provider value={toggleMode}>\n        {children}\n      </ModeDispatchContext.Provider>\n    </ModeStateContext.Provider>\n  )\n}\n\nconst useModeState = () => {\n  const context = useContext(ModeStateContext)\n  if (context == null) {\n    throw new Error('useModeState must be used within a ModeProvider')\n  }\n  return context\n}\n\nconst useModeDispatch = () => {\n  const context = React.useContext(ModeDispatchContext)\n  if (context == null) {\n    throw new Error('useModeDispatch must be used within a ModeProvider')\n  }\n  return context\n}\n\n\nexport {useModeState, useModeDispatch, ModeProvider}","export * from './table';\nexport * from './footer';\nexport * from './header';\nexport * from './utils';\nexport * from './types';","import React, { Fragment, FunctionComponent } from 'react';\nimport { Pagination, TableProps} from '../../components';\nimport {default as LayoutTable} from 'react-bootstrap/Table'\n\nexport const Table: FunctionComponent<TableProps> = ({\n    getTableProps,\n    getTableBodyProps,\n    headerGroups, \n    prepareRow,\n    footerGroups,\n    page,\n    ...rest\n  }: TableProps) => {\n  \n  return (\n    <Fragment>\n      <LayoutTable striped bordered hover {...getTableProps()}>\n         {/* TODO: Moved this to Header.tsx file */}\n        <thead className=\"thead-light\">\n          {headerGroups.map(headerGroup => (\n            <tr {...headerGroup.getHeaderGroupProps()}>\n              {headerGroup.headers.map(column => (\n              <th scope=\"col\" {...column.getHeaderProps()}>\n              {column.render('Header')}\n                {column.canFilter && column.Header === 'Country'  && <div> {column.render('Filter')}</div>}\n            </th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody {...getTableBodyProps()}>\n            {page.map((row, i) => {\n                  prepareRow(row)\n                  return (\n                    <tr {...row.getRowProps()}>\n                      {row.cells.map((cell) => {\n                        return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\n                      })}\n                    </tr>\n                  )\n            })}\n        </tbody>\n        <tfoot>\n          {/* TODO: Moved this to Footer.tsx file */}\n\n          {footerGroups.map(group => ( \n            <tr {...group.getFooterGroupProps()}>\n              {group.headers.map(column => (\n                <td {...column.getFooterProps()}>{column.render('Footer')}</td>\n              ))}\n            </tr>\n          ))}\n        </tfoot>\n      </LayoutTable>\n      <Pagination {...rest} />\n    </Fragment>\n  )\n}\n","export * from './types';","export * from './table-chart-container';\nexport * from './types';\nexport * from './columns';","import React, {FunctionComponent, useEffect, Fragment } from 'react';\nimport {Table,  MODE, ModeButton, Chart, TableChartContainerProps, getFilterColumn } from '../../components';\nimport {CovidCase} from '../../features';\nimport {useModeState, useModeDispatch} from '../../context';\nimport {useTable, usePagination, useFilters } from 'react-table';\n\nconst PAGINATION_CONFIG =  {\n  pageIndex: 0,\n  pageSize: 20\n}\n\nexport const TableChartContainer: FunctionComponent<TableChartContainerProps> = ({columns, chart, data}: TableChartContainerProps) => {\n  const mode = useModeState();\n  const dispatch = useModeDispatch();\n\n  const memoDefaultColumn = React.useMemo(() => (getFilterColumn()), []);\n\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    prepareRow,\n    footerGroups,\n    page,\n    canPreviousPage,\n    canNextPage,\n    pageOptions,\n    nextPage,\n    previousPage,\n    state: { pageIndex, pageSize },\n  } = useTable(\n    {\n      columns,\n      data,\n      defaultColumn: memoDefaultColumn,\n      initialState: { ...PAGINATION_CONFIG },\n    },\n    useFilters,\n    usePagination,\n  )\n\n  useEffect(() => {\n    const originals: CovidCase[] = page?.map(record => record.original as CovidCase);\n    chart.labels = originals?.map(((covidCase: CovidCase) => covidCase.Country));\n\n    originals?.forEach((covidCase: CovidCase) => {\n      chart?.datasets![0].data!.push(covidCase['NewConfirmed']);\n      chart?.datasets![1].data!.push(covidCase['NewDeaths']);\n      chart?.datasets![2].data!.push(covidCase['NewRecovered']);\n  })\n  }, [page]);\n\n  const paginationProps = {\n    canPreviousPage,\n    canNextPage,\n    pageOptions,\n    nextPage,\n    previousPage,\n    pageIndex,\n    pageSize,\n    page\n  };\n\n  return (\n    <Fragment>\n      <ModeButton onClick={dispatch} title={mode === MODE.TABLE ? 'Chart view' : 'Table view'}/>\n       {(mode === MODE.CHART) && page && <Chart data={chart}/>}\n       {( mode === MODE.TABLE )  && (data?.length > 0) &&  (\n       <Table getTableProps={getTableProps}\n              getTableBodyProps={getTableBodyProps}\n              headerGroups={headerGroups}\n              prepareRow={prepareRow}\n              footerGroups={footerGroups}\n              {...paginationProps}/>\n            )}\n    </Fragment>\n  )\n}\n","import {DefaultColumnFilter} from '../../components';\n\nexport const getFilterColumn = () => ({\n  Header: '',\n  Filter: DefaultColumnFilter,\n});","import {UsePaginationInstanceProps, UsePaginationState} from 'react-table';\n\nexport interface PaginationButtonProps {\n  disabled: boolean;\n  direction?: string;\n  onClick: () => void;\n}\n\nexport type PaginationProps = Pick<UsePaginationInstanceProps<{}>,\n'previousPage' |\n'nextPage' |\n'pageOptions' |\n'canPreviousPage' |\n'canNextPage' |\n'page'\n> & Pick<UsePaginationState<{}>,\n'pageIndex'\n> \n\nexport enum DIRECTION {\n  LEFT = 'LEFT',\n  RIGHT = 'RIGHT',\n}","import React, { useEffect } from 'react';\nimport {Search} from '../../../../components';\nimport { UseFiltersColumnProps } from 'react-table';\nimport { useSearchState } from '../../../../context';\n\ninterface FilteredColumn {\n  column: UseFiltersColumnProps<any>\n}\nexport const DefaultColumnFilter = ({\n  column: { setFilter }\n}: FilteredColumn) => {\n\n  const state = useSearchState();\n  \n  useEffect(() => {\n    setFilter(state);\n  }, [state]);\n\n  return (\n    <Search />\n    )\n}\n\n\n","import React, { FunctionComponent } from 'react';\nimport {PaginationProps, PaginationButton} from '../../../../components';\nimport { DIRECTION } from './types';\n\nexport const Pagination: FunctionComponent<Omit<PaginationProps, 'page'>> = (props: Omit<PaginationProps, 'page'>) => {\n  const {previousPage, pageOptions, canPreviousPage, canNextPage, pageIndex, nextPage} = props;\n  return (\n    <div className=\"d-flex align-items-center justify-content-end\">\n      <PaginationButton onClick={previousPage} disabled={!canPreviousPage} direction={DIRECTION.LEFT}/>\n      <span>\n         Page\n         <strong>\n         {' '} {pageIndex + 1} of {pageOptions.length}\n         </strong>\n       </span>\n      <PaginationButton onClick={nextPage} disabled={!canNextPage} direction={DIRECTION.RIGHT} />  \n    </div>\n  )\n}","import React, {Fragment, FunctionComponent} from 'react';\nimport { PaginationButtonProps} from '../../../../components';\nimport { DIRECTION } from './types';\nimport Button from 'react-bootstrap/Button';\n\nexport const PaginationButton: FunctionComponent<PaginationButtonProps> = ({disabled, direction, onClick, children}) => {\n  return (\n  <Button variant=\"link\" disabled={disabled} onClick={onClick}>\n      {!children && direction ===  DIRECTION.LEFT ? '<' : '>'}\n      {children && <Fragment>{children}</Fragment>}\n  </Button>\n  )\n}","import {TableInstance} from 'react-table';\n\nexport const getTotalCount = (info: TableInstance, key: string): number => {\n  return info.rows.reduce((sum, row) => row.values[key] + sum, 0);\n}","import React, { Fragment , FunctionComponent } from 'react';\nimport {useCasesState} from \"../../context\";\nimport {columns, datasets} from '../covid-cases';\nimport {TableChartContainer} from '../../components';\n\nexport const CovidCases: FunctionComponent = () => {\n  const {data, isError, isLoading}  = useCasesState();\n  const memoColumns = React.useMemo(() => columns, []);\n  const memoData =  React.useMemo(() => data, [data]);\n\n  return (\n    <Fragment>\n      {isLoading && <div>Loading... </div>}\n      {isError && <div> An error occured. Please try again later</div>}\n      <TableChartContainer columns={memoColumns} chart={datasets} data={memoData} />\n    </Fragment>\n\n  )\n}","import React from 'react';\nimport { TableInstance } from 'react-table';\nimport {getTotalCount} from \"./index\";\n\nexport const columns = [\n  {\n    Header: 'Country',\n    accessor: 'Country',\n  },\n  {\n    Header: 'Deaths',\n    accessor: 'NewDeaths',\n    Footer: (info: TableInstance) => {\n      const total = React.useMemo(() => getTotalCount(info, 'NewDeaths'), [info.filteredRows])\n      return <><b>Total:</b> <div>{total}</div></>\n    },\n  },\n  {\n    Header: 'Recovered',\n    accessor: 'NewRecovered',\n    Footer: (info: TableInstance) => {\n      const total = React.useMemo(() => getTotalCount(info, 'NewRecovered'), [info.filteredRows])\n      return <><b>Total:</b> <div>{total}</div></>\n    }\n\n  }, {\n    Header: 'New Cases',\n    accessor: 'NewConfirmed',\n    Footer: (info: TableInstance) => {\n      const total = React.useMemo(() => getTotalCount(info, 'NewConfirmed'), [info.filteredRows])\n      return <><b>Total:</b> <div>{total}</div></>\n    }\n  }\n];","import {ChartData} from '../../components';\n\nexport const datasets: ChartData = {\n  labels: [],\n  datasets: [\n    {\n      label: 'New Cases',\n      data: [],\n      backgroundColor: '#FFFF00',\n    },\n    {\n      label: 'New Deaths',\n      data: [],\n      backgroundColor: '#FF0000',\n    },\n    {\n      label: 'New Recovered',\n      data: [],\n      backgroundColor: '#74B649',\n    },\n  ],\n  options: {\n    responsive: true,\n    scales: {\n      xAxes: [{\n        ticks: {\n          beginAtZero: true\n        }\n      }]\n    }\n  }\n};","import {MouseEvent} from \"react\";\n\nexport enum MODE {\n  TABLE = 'TABLE',\n  CHART = 'CHART'\n}\n\nexport interface ModeButtonProps {\n  title: string;\n  onClick: (event: MouseEvent<HTMLButtonElement>) => void;\n}\n","import React from 'react';\nimport Button from 'react-bootstrap/Button'\nimport {ModeButtonProps} from \".\";\n\nexport const ModeButton = ({ title, onClick }: ModeButtonProps) => {\n  return (\n    <Button\n      variant=\"info\"\n      type=\"button\"\n      className=\"btn btn-info\"\n      onClick={onClick}>\n      {title}\n    </Button>\n  );\n}\n","import React, {FunctionComponent, useEffect, useState} from 'react';\nimport {useCasesState, useSearchDispatch, useSearchState} from \"../../context\";\nimport Autosuggest, { SuggestionsFetchRequestedParams, OnSuggestionSelected , RenderSuggestion, GetSuggestionValue, OnSuggestionsClearRequested, RenderInputComponent, InputProps, ChangeEvent, RenderSuggestionsContainer, RenderSuggestionsContainerParams } from 'react-autosuggest';\nimport {CovidCase} from '../../features';\nimport \"./search.scss\";\n\nconst renderInputComponent: RenderInputComponent<string> = (inputProps: InputProps<string>) => {\n  //  TODO: Verify how to change it (is it possible to do it easily?) (the problem here that onChange type in inputProps is different than onChange in standard HTMLInput)\n  const onChangeHandler = (event: React.ChangeEvent<HTMLInputElement>): void => {\n    inputProps.onChange(event, { newValue: event.target.value, method: 'type' });\n  };\n\n  return (\n  <div className=\"input-group\">\n    <input {...inputProps} onChange={onChangeHandler} type=\"text\" className=\"form-control\" aria-label=\"Country\" aria-describedby=\"inputGroup-sizing-default\"/>\n  </div>\n  )\n};\n\nconst renderSuggestionsContainer: RenderSuggestionsContainer = ({ containerProps, children, query }: RenderSuggestionsContainerParams) => {\n  if (!children) {\n    return null;\n  }\n  return (<ul {...containerProps} className=\"list-group\" >\n         <li className=\"list-group-item\" > {children} </li>\n    </ul>);\n}\n\nexport const Search: FunctionComponent = () => {\n  const {data} = useCasesState();\n  \n  const dispatch = useSearchDispatch();\n  const search = useSearchState();\n\n  const [countries, setCountries] = useState<string[]>([]);\n  const [suggestions, setSuggestions] = useState<string[]>([]);\n  \n  const [innerValue, setInnerValue] = useState('');\n\n  useEffect(() => {\n    const countries = data?.map((covidCase: CovidCase) => covidCase.Country);\n    setCountries(countries);\n}, [data])\n\n  useEffect(() => {\n    setInnerValue(search);\n  }, [search])\n\n  const getSuggestions = (value: string) => {\n    const inputValue = value.trim().toLowerCase();\n    const inputLength = inputValue.length;\n\n    return inputLength === 0 ? [] : countries.filter((lang: any) =>\n      lang.toLowerCase().slice(0, inputLength) === inputValue\n    );\n  };\n\n  const onSuggestionsFetchRequested = ({ value, reason }: SuggestionsFetchRequestedParams) => {\n    setSuggestions(getSuggestions(value));\n  }\n\n  const onSuggestionsClearRequested: OnSuggestionsClearRequested = () => setSuggestions([]);\n\n  const getSuggestionValue: GetSuggestionValue<string> = (suggestion: string) => suggestion;\n\n  const renderSuggestion: RenderSuggestion<string> = (suggestion: string) => (\n    <div>\n      {suggestion}\n    </div>\n  );\n\n  const onChange = (event: React.FormEvent<any>, {newValue}: ChangeEvent) => {\n    event.preventDefault()\n    setInnerValue(newValue);\n    if (newValue === '') {\n      dispatch(newValue)\n    }\n  }\n\n  const onSuggestionSelected: OnSuggestionSelected<string> = (event, { suggestion, suggestionValue }) => {\n    dispatch(suggestionValue);\n    setInnerValue(suggestionValue);\n  }\n\n  const inputProps = {\n    placeholder: 'Type a country',\n    value: innerValue,\n    onChange,\n  };\n\n  //  TODO: Added styles to autosuggestions\n  return (\n      <Autosuggest    suggestions={suggestions}\n                      onSuggestionsFetchRequested={onSuggestionsFetchRequested}\n                      getSuggestionValue={getSuggestionValue}\n                      renderSuggestion={renderSuggestion}\n                      onSuggestionSelected={onSuggestionSelected}\n                      onSuggestionsClearRequested={onSuggestionsClearRequested}\n                      renderInputComponent={renderInputComponent}\n                      renderSuggestionsContainer={renderSuggestionsContainer}\n                      inputProps={inputProps}\n      />\n  )\n}","export * from \"./types\";\nexport * from './covid-cases';"],"sourceRoot":""}